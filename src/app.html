<template>
    <div class="app">
        <nav class="navbar main-nav navbar-expand-lg navbar-light bg-white fixed-top">
            <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas" title="Toggle responsive left sidebar"
                click.delegate="toggleSidebar()">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand d-flex align-items-center mr-0 border-right" href="#">
                <span class="ml-4">Katalye</span>
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse border-bottom nav-body bg-white" id="navbar">
                <ul class="navbar-nav mr-auto crumbs d-flex px-4">
                    <breadcrumbs containerless></breadcrumbs>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <form class="form-inline my-2 my-lg-0">
                            <input class="form-control mx-sm-2" type="search" placeholder="Search Minions" aria-label="Search">
                        </form>
                    </li>
                </ul>
                <ul class="navbar-nav border-left">
                    <require from="./tray/tray-tasks"></require>
                    <tray-tasks></tray-tasks>
                </ul>
                <ul class="navbar-nav border-left">
                    <li class="nav-item">
                        <a class="nav-link" route-href="route: settings;" title="Settings">
                            <i class="fas fa-cogs fa-fw"></i>
                        </a>
                    </li>
                </ul>

            </div>
        </nav>
        <div class="workspace bg-light">
            <div class="sidebar ${sidebarOpen ? 'active' : ''} border-top border-right navbar-light d-flex flex-column justify-content-between"
                id="sidebar" role="navigation">
                <ul class="nav flex-column pt-4">
                    <li class="nav-item ${nav.isActive ? 'active' : ''}" repeat.for="nav of router.navigation">
                        <a class="nav-link pl-4" href.bind="nav.href">
                            <span class="mr-1"><i class="${nav.settings.icon} fa-fw mr-1"></i></span>
                            ${nav.title}
                        </a>
                    </li>
                </ul>
                <footer class="text-muted d-flex justify-content-around align-items-center py-3">
                    <div class="font-weight-light">
                        Built with <i class="fas fa-heart fa-sm text-danger mx-1"></i> on
                        <a class="text-dark" href="https://github.com/Katalye/Katalye">
                            <i class="fab fa-github mx-1"></i>
                        </a>
                    </div>
                </footer>
            </div>
            <div class="main-container">
                <div class="scroll-area">
                    <require from="./tasks"></require>
                    <tasks></tasks>
                    <router-view></router-view>
                </div>
            </div>
        </div>
    </div>
</template>